/**
  * LazyImg - A minimal image lazy loader
  * v0.4.1 | https://github.com/davidcetinkaya/lazy-img
  * Copyright David Cetinkaya
  *
  * MIT license
  */
  "use strict";function Debounce(e,n){var i=null;return function(){var t=this,r=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(t,r)},n)}}function GetCurrentMediaQuery(){function e(){var e=1,t=n.offsetWidth;for(var r in i)i[r]=e===t,e++}var n=document.getElementById("js-breakpoint-hook"),i={screenSM:!1,screenMD:!1,screenLG:!1};return{queries:i,init:e}}function LazyImg(e){function n(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}function i(e,n){for(var i in e)e[i]=n===i.toString()}function t(){var e=M.queries;return e.screenLG?"LG":e.screenMD?"MD":"SM"}function r(e,n,i){return e["querySelector"+(i?"All":"")](n)}function o(e,n,i,t){return e.addEventListener(n,i,!!t),{remove:function(){return a(e,n,i,t)}}}function a(e,n,i,t){e.removeEventListener(n,i,!!t)}function u(e){return e&&e.match(/^(data-.)/)}function c(e){return!isNaN(parseFloat(e))&&isFinite(e)}function s(e){return e.replace(/^(data-)/,"").replace(/(-\w)/g,function(e){return e.replace("-","").toUpperCase()})}function l(e){switch(e){case"true":return!0;case"false":return!1}return e}function f(e){var n=e.attributes,i={};for(var t in n)if(u(n[t].name)){var r=s(n[t].name),o=n[t].value;i[r]=c(o)?parseInt(o):l(o)}return i}function g(e){for(var i=e||r(document,"."+I.wrap,!0),t=[],o=0,a=i.length;o<a;o++){var u={wrap:i[o],inner:r(i[o],"."+I.inner),img:r(i[o],"."+I.img),hasLoadedAny:!1,hasLoaded:{LG:!1,MD:!1,SM:!1}};n(u,f(u.img)),t.push(u)}return t}function d(){C.images.forEach(function(e){e.offsetTop=Math.floor(e.img.getBoundingClientRect().top+window.pageYOffset)})}function m(){var e=t().toLowerCase(),n=0,i=0;C.images.forEach(function(t){i=t[e+"Width"]||t.mdWidth||t.lgWidth,n=t[e+"Height"]||t.mdHeight||t.lgHeight,t.wrap.style[t.fluid?"max-width":"width"]=i+"px",b.setPlaceHolders&&!t.bgImg&&(t.inner.style.paddingBottom=n/i*100+"%")})}function p(e,n){e.style.backgroundImage="url('"+n+"')"}function h(e,n){var i=e[n.toLowerCase()+"Src"]||e.mdSrc||e.lgSrc,t=e.bgImg?document.createElement("img"):e.img;t.setAttribute("src",i),e.bgImg&&p(e.img,i),b.onImgLoad&&!e.hasLoadedAny&&v(e,t)}function v(e,n){var i=o(n,"load",function(){b.onImgLoad.call(e.img),i.remove()});e.hasLoadedAny=!0,C.loadCount++}function L(e,n){function r(e){return o+b.lazyOffset>e.offsetTop}var o=e+window.innerHeight,a=t();C.images.forEach(function(e){(r(e)||n&&!e.hasLoaded[a])&&(h(e,a),i(e.hasLoaded,a))})}function w(){!function e(){L(window.pageYOffset),C.loadCount===C.imgCount&&y(),C.isScrollLooping&&setTimeout(e,1e3/b.scrollFrameRate)}()}function y(){C.isScrollLooping=!1}function S(e){C.images||(C.images=g(),C.imgCount=C.images.length,e&&w(),o(window,"resize",D),o(window,"orientationchange",D)),m(),C.isScrollLooping&&d()}var M=GetCurrentMediaQuery(),C={images:void 0,imgCount:0,loadCount:0,isScrollLooping:!0,lastMediaQuery:{LG:M.queries.screenLG,MD:M.queries.screenMD,SM:!1}},b={setPlaceHolders:!0,scrollFrameRate:3,lazyOffset:300,resizeDebounce:300,classPrefix:"lazy-img",onImgLoad:void 0};e&&n(b,e);var I={wrap:"js-"+b.classPrefix,inner:"js-"+b.classPrefix+"__inner",img:"js-"+b.classPrefix+"__img"},D=Debounce(function(){M.init();var e=t();C.lastMediaQuery[e]||(i(C.lastMediaQuery,e),!C.isScrollLooping&&L(!1,!0),S())},b.resizeDebounce);return{init:function(){M.init(),S(C.isScrollLooping)},reInit:function(){var e=!C.isScrollLooping;C.images=!1,C.loadCount=0,C.isScrollLooping||(C.isScrollLooping=!0),S(e)}}}